<!DOCTYPE html>
<html lang="en">
<head>
    <title>Beneficiarios</title>
    <div th:include="fragments/init.html"></div>
</head>
<body>
<header th:include="fragments/header.html"></header>

<div class="container mt-4">
    <h2 class="text-center display-5 mb-4 text-primary">👥 Listado de Beneficiarios</h2>

    <div class="d-flex justify-content-between align-items-center mb-3">
        <a class="btn btn-outline-secondary" href="/">⬅ Atrás</a>
        <a class="btn btn-success" th:href="@{/formBeneficiario/{id}(id=${tomador_id})}">➕ Añadir Beneficiario</a>
    </div>

    <table class="table table-hover table-bordered shadow-sm rounded">
        <thead class="table-dark text-center">
        <tr>
            <th>#</th>
            <th>Nombre Completo</th>
            <th>Parentesco</th>
            <th>Fecha Nacimiento</th>
            <th>Edad</th>
            <th>Editar</th>
            <th>Eliminar</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="beneficiario : ${beneficiarios}" class="align-middle">
            <td th:text="${beneficiario.id}"></td>
            <td th:text="${beneficiario.nombreBeneficiario + ' ' + beneficiario.apellidoBeneficiario}"></td>
            <td th:text="${T(com.t2kat.annur.util.Utilidades).getParentesco(beneficiario.parentesco)}"></td>
            <td th:text="${beneficiario.fechaNacimiento}"></td>
            <td th:text="${T(com.t2kat.annur.util.Utilidades).calcularEdad(beneficiario.fechaNacimiento)} + ' años'"></td>
            <td class="text-center"><a class="btn btn-sm btn-warning" th:href="${'/beneficiario/edit/' + beneficiario.id}">✏️</a></td>
            <td class="text-center"><a class="btn btn-sm btn-danger" th:href="${'/beneficiario/delete/' + beneficiario.id + '/' + beneficiario.tomadorId}">🗑️</a></td>
        </tr>
        </tbody>
    </table>


</div>
</body>
</html>
